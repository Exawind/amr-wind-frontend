# Download the openfast model from this repo
modelsource:
  gitrepo: git@github.com:IEAWindTask37/IEA-15-240-RWT.git
  branch: v1.1.15
  gitdirs:
    - OpenFAST/IEA-15-240-RWT-Monopile
    - OpenFAST/IEA-15-240-RWT
  #downloaddir: IEA-15-240-RWT-GIT   # destination for clone (optional)
  copyaction:                       # copy files out from git repo (optional)
    source: IEA-15-240-RWT/OpenFAST
    dest: OpenFAST4p1_Monopile_IEA15MW
  deleteafterdownload: True         # Delete the git repo after d/l (optional)

# Edit the model parameters in this section
modelparams:
  fstfilename: OpenFAST4p1_Monopile_IEA15MW/IEA-15-240-RWT-Monopile/IEA-15-240-RWT-Monopile.fst
  # postconfigcmd:  

  # Specify any changes to OpenFAST parameters below
  # Possible files to edit are: FSTFile, EDFile, AeroFile, ServoFile, HydroFile, MooringFile, SubFile, DISCONFile
  FSTFile:
    DT: 0.005
    CompInflow: 2
    OutFileFmt: 3
  AeroFile:
    Wake_Mod: 0
    UA_Mod: 0
  ServoFile:
    # THIS ROSCO PATH NEEDS TO BE EDITED!
    DLL_FileName: PLEASEEDITTHIS
    #DLL_FileName: /projects/wind_uq/lcheung/AMRWindBuilds/hfm.20250722/ROSCO/rosco/controller/build/libdiscon.so
  # DISCONFile:
  #   Fl_Mode: 0

# Write the turbine yamlfile
writeturbineyaml: True
turbineyamlfile: MONOPILE_IEA15MW_OF4p1.yaml

# This will be copied over to turbineyamlfile
turbines:
  IEA15MW_ALM:     # This is an arbitrary, unique name
    # OpenFAST files from the repo git@github.com:IEAWindTask37/IEA-15-240-RWT.git
    turbinetype_name:             "Monopile_IEA15MW_ALM_OF4p1"
    turbinetype_comment:          "OpenFAST 4.1 model"
    Actuator_type:                TurbineFastLine
    Actuator_openfast_input_file: OpenFAST4p1_Monopile_IEA15MW/IEA-15-240-RWT-Monopile/IEA-15-240-RWT-Monopile.fst
    Actuator_rotor_diameter:      240
    Actuator_hub_height:          150
    Actuator_num_points_blade:    50
    Actuator_num_points_tower:    12
    Actuator_epsilon:             [2.0, 2.0, 2.0]
    Actuator_epsilon_tower:       [2.0, 2.0, 2.0]
    Actuator_openfast_start_time: 0.0
    Actuator_openfast_stop_time:  7200.0
    Actuator_nacelle_drag_coeff:  0.5
    Actuator_nacelle_area:        49.5
    Actuator_output_frequency:    10
    turbinetype_filedir:          OpenFAST4p1_Monopile_IEA15MW
